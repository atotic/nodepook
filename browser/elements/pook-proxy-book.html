<link href="../vendor/firebase-elements/firebase-element.html" rel="import">
<link href="pook-utils.html">
<!--
Firebase book manipulation

Properties:

    "owner" : { ".validate": "newData.isString() && newData.val() === auth.uid"},
    "createdAt": { ".validate": "newData.isNumber()"},
    "title": { ".validate": "newData.isString()" },
    "width": { ".validate": "newData.isNumber()" },
    "height": { ".validate": "newData.isNumber()" },
    "sides": {
      "$sideId": {
        "left": { ".validate": "newData.isString()"},
        "right": { ".validate": "newData.isString()"}
      }
    },
    "photos": {
      "$photoId": { ".validate": "newData.isBoolean()"}
    },
    "sharedWith": {
      "$uid": { ".validate": "newData.isBoolean()" }
    },

@element pook-proxy-book
@group model

-->
<polymer-element name='pook-proxy-book' extends='firebase-element'>
  <template></template>
  <script>
  "use strict";
  Polymer({
    publish: {
      /**
       * @property bookId
       * @type string
       * firebase book path `books/$bookId`
       */
      bookId: null, 
    },
    bookIdChanged: function() {
      if (this.bookId)
        this.location = PookUtils.getFirebaseUrl('oneBook', this.bookId);
      else
        this.location = null;
    }
  });
  </script>
</polymer-element>
